(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{32:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var r,c=t(1),a=t(0),o=t.n(a),i=t(23),u=t.n(i),s=t(6),l=t(4),d={deckId:void 0,player:{cards:[],score:0},bank:{cards:[],score:0},playerStood:!1,gameOver:!1,win:!1},f=Object(a.createContext)([]),b=f.Provider,p=(f.Consumer,f);!function(n){n.ACE="ACE",n.KING="KING",n.QUEEN="QUEEN",n.JACK="JACK",n.ONE="1",n.TWO="2",n.THREE="3",n.FOUR="4",n.FIVE="5",n.SIX="6",n.SEVEN="7",n.EIGHT="8",n.NINE="9",n.TEN="10"}(r||(r={}));var j,h=21,x=[r.KING,r.QUEEN,r.JACK],m=r.ACE,O={gameOver:!0,win:!1},v={gameOver:!1,win:!0},g={gameOver:!1,win:!1};function k(n){return x.includes(n)?10:1}function y(n){if(n.includes(m)){var e=n.filter((function(n){return n!==m})).reduce((function(n,e){return n+k(e)}),0),t=n.filter((function(n){return n===m})).length;return t>1?e+1*t:e+11>h?e+1:e+11}return n.reduce((function(n,e){return n+k(e)}),0)}function E(n,e){switch(e.type){case j.NEW_GAME:return Object(l.a)(Object(l.a)({},d),{},{deckId:e.payload});case j.PLAYER_HIT:var t=n.player.cards.concat(e.payload),r=y(t.map((function(n){return n.value})));return Object(l.a)(Object(l.a)({},n),{},{player:Object(l.a)(Object(l.a)({},n.player),{},{cards:t,score:r})});case j.BANK_HIT:var c=n.bank.cards.concat(e.payload),a=y(c.map((function(n){return n.value})));return Object(l.a)(Object(l.a)({},n),{},{bank:Object(l.a)(Object(l.a)({},n.bank),{},{cards:c,score:a})});case j.PLAYER_STAND:return Object(l.a)(Object(l.a)({},n),{},{playerStood:!0});case j.UPDATE_GAME:return Object(l.a)(Object(l.a)({},n),e.payload);default:return n}}function w(n){var e=n.children,t=Object(a.useReducer)(E,d),r=Object(s.a)(t,2),o=r[0],i=r[1];return Object(c.jsx)(b,{value:[o,i],children:e})}!function(n){n.NEW_GAME="NEW_GAME",n.PLAYER_HIT="PLAYER_HIT",n.PLAYER_STAND="PLAYER_STAND",n.BANK_HIT="BANK_HIT",n.UPDATE_GAME="UPDATE_GAME"}(j||(j={}));t(32);var A=t(3),_=t(2),N={colors:{black:"#050505",white:"#ffffff",greyDark:"#191919",pink:"#f093b0",purple:"#4f41ab",purpleDark:"#3725ae"}},I="375px",T="425px",P="768px",C="1024px",D="1440px",L="2560px",S={mobileS:"(min-width: ".concat("320px",")"),mobileM:"(min-width: ".concat(I,")"),mobileL:"(min-width: ".concat(T,")"),tablet:"(min-width: ".concat(P,")"),laptop:"(min-width: ".concat(C,")"),laptopL:"(min-width: ".concat(D,")"),desktop:"(min-width: ".concat(L,")"),desktopL:"(min-width: ".concat(L,")")};function G(){var n=Object(A.a)(["\nhtml, body {\n  height: 100%;\n}\n\n*, \n*:before, \n*:after {\n  box-sizing: border-box;\n}\n\nbody {\n  background: ",";\n  color: ","\n}\n"]);return G=function(){return n},n}var R=Object(_.b)(G(),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.white}));function H(){var n=Object(A.a)(["\n  position: absolute;\n  top: ",";\n  left: ","px;\n  height: 100px;\n  box-shadow: 1px 0 8px ",";\n\n  @media "," {\n    top: ",";\n    left: ","px;\n  }\n"]);return H=function(){return n},n}function M(){var n=Object(A.a)(["\n  position: relative;\n  height: 200px;\n  width: 100%;\n"]);return M=function(){return n},n}var K=5,U=9,Y=_.c.div(M()),B=_.c.img(H(),(function(n){return n.number>K?"40px;":"0px"}),(function(n){var e=n.number;return e>K?30*(e-K-1):30*e}),(function(n){return n.theme.colors.black}),S.mobileL,(function(n){return n.number>U?"40px;":"0px"}),(function(n){var e=n.number;return e>U?30*(e-U-1):30*e}));function F(n){var e=n.cards;return Object(c.jsx)(Y,{children:e.map((function(n,e){return Object(c.jsx)(B,{src:n.image,alt:"".concat(n.value,"_").concat(n.suit),number:e},"".concat(n.value,"_").concat(n.suit,"_").concat(e))}))})}function J(){var n=Object(A.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  width: 40px;\n  height: 40px;\n  background-color: ",";\n  color: ",";\n  border-radius: 50%;\n"]);return J=function(){return n},n}var W=_.c.div(J(),(function(n){return n.theme.colors.pink}),(function(n){return n.theme.colors.greyDark}));function z(n){var e=n.score;return Object(c.jsx)(W,{children:e})}function Q(){var n=Object(A.a)([""]);return Q=function(){return n},n}function V(){var n=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n  width: 100%;\n  height: 400px;\n  border-radius: 5px;\n  padding: 20px;\n\n  @media "," {\n    width: 400px;\n  }\n"]);return V=function(){return n},n}var X=_.c.article(V(),(function(n){return n.theme.colors.greyDark}),S.tablet),q=_.c.h2(Q());function Z(n){var e=n.game,t=n.title;return Object(c.jsxs)(X,{children:[Object(c.jsx)(q,{children:t}),Object(c.jsx)(F,{cards:e.cards}),Object(c.jsx)(z,{score:e.score})]})}var $=t(7),nn=t.n($),en=t(12),tn=t(9),rn=t.n(tn);function cn(){return(cn=Object(en.a)(nn.a.mark((function n(){var e;return nn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,rn.a.get("deck/new/shuffle/?deck_count=6");case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function an(n){return on.apply(this,arguments)}function on(){return(on=Object(en.a)(nn.a.mark((function n(e){var t;return nn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,rn.a.get("deck/".concat(e,"/draw/?count=1"));case 2:return t=n.sent,n.abrupt("return",t.data.cards[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function un(){var n=Object(A.a)(["\n  font-family: 'Poppins';\n  border: 0;\n  padding: 10px 40px;\n  font-size: 1rem;\n  text-transform: uppercase;\n  border-radius: 30px;\n  background-color: ",";\n  color: ",";\n  ","\n  transition: background-color 0.3s ease;\n  box-shadow: 1px 1px 1px;\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return un=function(){return n},n}rn.a.defaults.baseURL="https://deckofcardsapi.com/api/";var sn=_.c.button(un(),(function(n){var e=n.theme;return n.disabled?e.colors.greyDark:e.colors.purple}),(function(n){return n.theme.colors.white}),(function(n){return!n.disabled&&"cursor: pointer;"}),(function(n){var e=n.theme;return n.disabled?e.colors.greyDark:e.colors.purpleDark}));function ln(){var n=Object(A.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column-reverse;\n  margin: 30px;\n\n  > div:last-child > button:first-child {\n    margin-right: 10px;\n  }\n\n  > div:first-child {\n    margin-top: 10px;\n  }\n\n  @media "," {\n    flex-direction: row;\n  }\n"]);return ln=function(){return n},n}var dn=_.c.div(ln(),S.tablet);function fn(){var n=Object(a.useContext)(p),e=Object(s.a)(n,2),t=e[0],r=t.deckId,o=t.bank,i=t.playerStood,u=t.win,l=t.gameOver,d=e[1],f=Object(a.useMemo)((function(){return i||u||l}),[i,u,l]),b=Object(a.useRef)(null),x=function(){(function(){return cn.apply(this,arguments)})().then((function(n){return d({type:j.NEW_GAME,payload:n.deck_id})}))};return Object(a.useEffect)((function(){r||x()})),Object(a.useEffect)((function(){i&&!b.current?b.current=setInterval((function(){an(r).then((function(n){return d({type:j.BANK_HIT,payload:n})})).catch((function(n){return n}))}),2e3):o.score>=h&&(clearInterval(b.current),b.current=null)}),[i,o.score,r,d]),Object(c.jsxs)(dn,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(sn,{onClick:x,children:"Start new game"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)(sn,{disabled:f,onClick:function(){an(r).then((function(n){return d({type:j.PLAYER_HIT,payload:n})})).catch((function(n){return n}))},children:"Hit"}),Object(c.jsx)(sn,{disabled:f,onClick:function(){d({type:j.PLAYER_STAND})},children:"Stand"})]})]})}function bn(){var n=Object(A.a)(["\n  font-family: 'Poppins';\n  font-size: 3rem;\n"]);return bn=function(){return n},n}function pn(){var n=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 20px;\n\n  > *:first-child {\n    margin-bottom: 20px;\n  }\n\n  @media "," {\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    > *:first-child {\n      margin-bottom: 0;\n      margin-right: 20px;\n    }\n  }\n"]);return pn=function(){return n},n}function jn(){var n=Object(A.a)(["\n  text-align: center;\n  margin-bottom: 200px;\n\n  @media "," {\n    margin-bottom: 100px;\n  }\n"]);return jn=function(){return n},n}var hn=_.c.div(jn(),S.tablet),xn=_.c.div(pn(),S.tablet),mn=_.c.h1(bn());var On=function(){var n=Object(a.useContext)(p),e=Object(s.a)(n,2),t=e[0],r=e[1],o=t.player,i=t.bank,u=t.playerStood,l=t.gameOver,d=t.win;return Object(a.useEffect)((function(){if(0!==o.score){var n=function(n,e,t){return n>h||e===h?O:n<=h&&t&&e>h?v:g}(o.score,i.score,u);(n.win||n.gameOver)&&r({type:j.UPDATE_GAME,payload:n})}}),[o.score,i.score,u,r]),Object(c.jsxs)(_.a,{theme:N,children:[Object(c.jsxs)(hn,{children:[Object(c.jsx)(mn,{children:"BlackJack"}),Object(c.jsxs)(xn,{children:[Object(c.jsx)(Z,{title:"Bank",game:i}),Object(c.jsx)(Z,{title:"Player",game:o})]}),Object(c.jsx)(fn,{}),d&&"You Win",l&&"Game Over"]}),Object(c.jsx)(R,{})]})},vn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,52)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;t(n),r(n),c(n),a(n),o(n)}))};u.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(w,{children:Object(c.jsx)(On,{})})}),document.getElementById("root")),vn()}},[[51,1,2]]]);
//# sourceMappingURL=main.3baab8fd.chunk.js.map